<!DOCTYPE html><html lang="zh-Hans"><head><!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]--><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="呼哧"><meta property="og:type" content="website"><meta property="og:title" content="Play with huchi"><meta property="og:url" content="http://hu-chi.github.io/page/3/index.html"><meta property="og:site_name" content="Play with huchi"><meta property="og:locale" content="zh-Hans"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Play with huchi"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="alternate" href="/atom.xml" title="Play with huchi" type="application/atom+xml"><link rel="shortcut icon" href="/img/huchi.jpg"><link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet"><link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><style>.article{opacity:0}</style><link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"><title>Play with huchi</title><script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script>var yiliaConfig={fancybox:!0,animate:!0,isHome:!0,isPost:!1,isArchive:!1,isTag:!1,isCategory:!1,fancybox_js:"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",scrollreveal:"//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",search:!0}</script><script>yiliaConfig.jquery_ui=[!0,"//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js","//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"]</script><script>yiliaConfig.rootUrl="/"</script></head></html><body><div id="container"><div class="left-col"><div class="overlay"></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img src="/img/huchi.jpg" class="animated zoomIn"></a><hgroup><h1 class="header-author"><a href="/">呼哧</a></h1></hgroup><p class="header-subtitle">看遍南海风云卷，最恨难赴故人约。</p><form id="search-form"><input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false"> <i class="fa fa-times" onclick="resetSearch()"></i></form><div id="local-search-result"></div><p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p><div id="switch-btn" class="switch-btn"><div class="icon"><div class="icon-ctn"><div class="icon-wrap icon-house" data-idx="0"><div class="birdhouse"></div><div class="birdhouse_holes"></div></div><div class="icon-wrap icon-ribbon hide" data-idx="1"><div class="ribbon"></div></div><div class="icon-wrap icon-link hide" data-idx="2"><div class="loopback_l"></div><div class="loopback_r"></div></div><div class="icon-wrap icon-me hide" data-idx="3"><div class="user"></div><div class="shoulder"></div></div></div></div><div class="tips-box hide"><div class="tips-arrow"></div><ul class="tips-inner"><li>菜单</li><li>标签</li><li>友情链接</li><li>关于我</li></ul></div></div><div id="switch-area" class="switch-area"><div class="switch-wrap"><section class="switch-part switch-part1"><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives/">所有文章</a></li><li><a href="/tags/随笔">随笔</a></li><li><a href="/tags/">标签云</a></li><li><a href="/about/">关于我</a></li></ul></nav><nav class="header-nav"><ul class="social"><a class="fa Email" href="/779197837@qq.com" title="Email"></a> <a class="fa GitHub" href="#" title="GitHub"></a> <a class="fa RSS" href="/atom.xml" title="RSS"></a></ul></nav></section><section class="switch-part switch-part2"><div class="widget tagcloud" id="js-tagcloud"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/acm/">acm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dp/">dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/script/">script</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/starts/">starts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端设计/">前端设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆/">堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数模版/">大数模版</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数论/">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂书/">杂书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络编程/">网络编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul></div></section><section class="switch-part switch-part3"><div id="js-friends"><a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a> <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a> <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a></div></section><section class="switch-part switch-part4"><div id="js-aboutme">专注于前端</div></section></div></div></header></div></div><div class="mid-col"><nav id="mobile-nav"><div class="overlay"><div class="slider-trigger"></div><h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">呼哧</a></h1></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img src="/img/huchi.jpg" class="animated zoomIn"></a><hgroup><h1 class="header-author"><a href="/" title="回到主页">呼哧</a></h1></hgroup><p class="header-subtitle">看遍南海风云卷，最恨难赴故人约。</p><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives/">所有文章</a></li><li><a href="/tags/随笔">随笔</a></li><li><a href="/tags/">标签云</a></li><li><a href="/about/">关于我</a></li><div class="clearfix"></div></ul></nav><nav class="header-nav"><ul class="social"><a class="fa Email" target="_blank" href="/779197837@qq.com" title="Email"></a> <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a> <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a></ul></nav></header></div><link class="menu-list" tags="标签" friends="友情链接" about="关于我"></nav><div class="body-wrap"><article id="article-acm/高斯消元" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/19/acm/高斯消元/" class="article-date"><time datetime="2017-07-19T10:40:42.000Z" itemprop="datePublished">2017-07-19</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/19/acm/高斯消元/">高斯消元</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="高斯消元入门"><a href="#高斯消元入门" class="headerlink" title="高斯消元入门"></a>高斯消元入门</h1><blockquote><p>从例题开始,模板最后整理</p></blockquote><h2 id="poj1222-EXTENDED-LIGHTS-OUT"><a href="#poj1222-EXTENDED-LIGHTS-OUT" class="headerlink" title="poj1222  EXTENDED LIGHTS OUT"></a>poj1222 EXTENDED LIGHTS OUT</h2><p><a href="https://vjudge.net/problem/POJ-1222" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-1222</a></p><p>有三十个小灯,每开启或熄灭一个灯,都会引起附近四个灯状态的变化.</p><p>以前写过一个遍历第一行枚举所有情况再dfs关下面的灯,最后check()一下.</p><p>现在可以考虑使用高斯消元,对于每一盏灯,都会有一个方程,也就是他附近的和他自己的灯有没有按,一共30个方程,30个未知数.</p></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/acm专题整理/">acm专题整理</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math/">math</a></li></ul></div><p class="article-more-link"><a href="/2017/07/19/acm/高斯消元/#more">阅读全文 >></a></p><div class="clearfix"></div></div></div></article><article id="article-acm/Acdreamer博客数论学习(1)" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/19/acm/Acdreamer博客数论学习(1)/" class="article-date"><time datetime="2017-07-19T10:40:42.000Z" itemprop="datePublished">2017-07-19</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/19/acm/Acdreamer博客数论学习(1)/">Acdreamer博客数论学习(1)</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="Acdreamer博客数论学习"><a href="#Acdreamer博客数论学习" class="headerlink" title="Acdreamer博客数论学习"></a>Acdreamer博客数论学习</h1><h1 id="Day-One"><a href="#Day-One" class="headerlink" title="Day One"></a>Day One</h1><h2 id="等比数列求和．"><a href="#等比数列求和．" class="headerlink" title="等比数列求和．"></a><strong>等比数列求和．</strong></h2><p>求解$S_n = (a+a^2+…+a^n)modM$</p><p>采用二分．n%2==0时 $ S_n = (1+a^{(\frac{n}{2})} )S_{\frac{n}{2}} $ ,n%2==1时，$S_n = (1+a^{\frac{n+1}{2}})S_{\frac{n-1}{2}} + a^{\frac{n+1}{2}}$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">pow</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&amp;<span class="number">1</span>)ans=ans*a%mod;</span><br><span class="line">        a=a*a%mod;</span><br><span class="line">        k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)<span class="keyword">return</span> a%mod;</span><br><span class="line">    <span class="keyword">if</span>(n&amp;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> ((<span class="number">1</span>+<span class="built_in">pow</span>(a,(n+<span class="number">1</span>)/<span class="number">2</span>))%mod*S(a,(n<span class="number">-1</span>)/<span class="number">2</span>)%mod + <span class="built_in">pow</span>(a,(n+<span class="number">1</span>)/<span class="number">2</span>)%mod)%mod;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span>+<span class="built_in">pow</span>(a,n/<span class="number">2</span>))%mod*S(a,n/<span class="number">2</span>)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,n;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;n))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,S(a,n));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>题目：<a href="https://vjudge.net/problem/POJ-3233．" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-3233．</a></p><p>计算矩阵１－n次方和</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,k,m;</span><br><span class="line"><span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> mp[<span class="number">35</span>][<span class="number">35</span>];</span><br><span class="line">    Matrix()&#123;</span><br><span class="line">        <span class="built_in">memset</span>(mp,<span class="number">0</span>,<span class="keyword">sizeof</span> mp);</span><br><span class="line">    &#125;</span><br><span class="line">    Matrix(<span class="keyword">int</span> v)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(mp,<span class="number">0</span>,<span class="keyword">sizeof</span> mp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            mp[i][i] = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">multi</span><span class="params">(Matrix a, Matrix b)</span></span>&#123;</span><br><span class="line">    Matrix c;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)&#123;<span class="keyword">if</span>(a.mp[i][k])</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;<span class="keyword">if</span>(b.mp[k][j])</span><br><span class="line">                c.mp[i][j] = c.mp[i][j] + a.mp[i][k]*b.mp[k][j];</span><br><span class="line">                c.mp[i][j] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">pls</span><span class="params">(Matrix a, Matrix b)</span></span>&#123;</span><br><span class="line">    Matrix c;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">            c.mp[i][j] = a.mp[i][j]+b.mp[i][j];</span><br><span class="line">            c.mp[i][j] %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">powmul</span><span class="params">(Matrix a, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    Matrix c = Matrix(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        c.mp[i][i] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&amp;<span class="number">1</span>)c = multi(c,a);</span><br><span class="line">        a = multi(a,a);</span><br><span class="line">        k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">S</span><span class="params">(Matrix a, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    Matrix temp = Matrix(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">1</span>)<span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">if</span>(k&amp;<span class="number">1</span>)&#123;</span><br><span class="line">        Matrix temp2 = powmul(a,(k+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> pls(multi(pls(temp, temp2), S(a,(k<span class="number">-1</span>)/<span class="number">2</span>)), temp2);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        Matrix temp2 = powmul(a,k/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> multi(pls(temp, temp2), S(a,k/<span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;k,&amp;m))&#123;</span><br><span class="line">        Matrix a;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a.mp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        mod = m;</span><br><span class="line">        a = S(a,k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d"</span>,a.mp[i][j]);</span><br><span class="line">                <span class="keyword">if</span>(j!=n)<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="素数定理"><a href="#素数定理" class="headerlink" title="素数定理"></a>素数定理</h2><p>$$<br>\pi(n)为小于等于n的素数的个数，有lim_{n→∞}\frac{\pi(n)}{n/lnn}=1<br>$$</p><h2 id="定理-gcd-a-n-1-a-m-1-a-gcd-n-m-1"><a href="#定理-gcd-a-n-1-a-m-1-a-gcd-n-m-1" class="headerlink" title="定理$gcd(a^n-1,a^m-1)=a^{gcd(n,m)}-1$"></a>定理$gcd(a^n-1,a^m-1)=a^{gcd(n,m)}-1$</h2><p>在a&gt;1,m,n&gt;0时成立．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b?gcd(b,a%b):a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">pow</span><span class="params">(ll a, ll k)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&amp;<span class="number">1</span>)ans=ans*a%mod;</span><br><span class="line">        a = a*a%mod;</span><br><span class="line">        k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,m,n,k1,t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;a,&amp;m,&amp;n,&amp;k1);</span><br><span class="line">        mod = k1;</span><br><span class="line">        ll ans = <span class="built_in">pow</span>(a,gcd(n,m))<span class="number">-1</span>+mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans%mod);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="定理扩展-a-gt-b-gcd-a-b-1-gcd-a-m-b-m-a-n-b-n-a-gcd-m-n-b-gcd-m-n"><a href="#定理扩展-a-gt-b-gcd-a-b-1-gcd-a-m-b-m-a-n-b-n-a-gcd-m-n-b-gcd-m-n" class="headerlink" title="定理扩展$a&gt;b,gcd(a,b)=1, gcd(a^m-b^m,a^n-b^n)=a^{gcd(m,n)}-b^{gcd(m,n)}$"></a>定理扩展$a&gt;b,gcd(a,b)=1, gcd(a^m-b^m,a^n-b^n)=a^{gcd(m,n)}-b^{gcd(m,n)}$</h2><h2 id="定理-G-gcd-C-n-1-C-n-2-C-n-3-…-Cn-n-1"><a href="#定理-G-gcd-C-n-1-C-n-2-C-n-3-…-Cn-n-1" class="headerlink" title="定理$G=gcd(C_n^1,C_n^2,C_n^3,…,Cn^{n-1})$"></a>定理$G=gcd(C_n^1,C_n^2,C_n^3,…,Cn^{n-1})$</h2><ol><li>n为素数，答案为n；</li><li>n有多个素因子，答案为１；</li><li>n只有一个素因子,答案就是该素因子(其实包括了第一种情况</li></ol><p>题目：<a href="https://vjudge.net/problem/HDU-2582" target="_blank" rel="noopener">https://vjudge.net/problem/HDU-2582</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1000100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> judge[maxn];</span><br><span class="line"><span class="keyword">int</span> prime[maxn/<span class="number">10</span>];</span><br><span class="line">ll biao[maxn];</span><br><span class="line"><span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(prime,<span class="number">0</span>,<span class="keyword">sizeof</span> prime);</span><br><span class="line">    <span class="built_in">memset</span>(judge,<span class="number">0</span>,<span class="keyword">sizeof</span> judge);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!judge[i])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge[j]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prime[tot++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fill(biao,biao+maxn,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j = prime[i]; j &lt; maxn; j*=prime[i])&#123;</span><br><span class="line">            biao[j]=prime[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">4</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        biao[i]+=biao[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,biao[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="定理-F-n-为斐波那契额数列-，gcd-F-m-F-n-F-gcd-m-n"><a href="#定理-F-n-为斐波那契额数列-，gcd-F-m-F-n-F-gcd-m-n" class="headerlink" title="定理$F_n 为斐波那契额数列 ，gcd(F_m,F_n)=F_{gcd(m,n)}$"></a>定理$F_n 为斐波那契额数列 ，gcd(F_m,F_n)=F_{gcd(m,n)}$</h2><p><a href="http://acm.nyist.net/JudgeOnline/problem.php?pid=468" target="_blank" rel="noopener">http://acm.nyist.net/JudgeOnline/problem.php?pid=468</a></p><p>此处需要学会一种新的判断素数的方式叫做Miller_Rabin素数测试．在DayTwo中有．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">multi</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> mod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> temp = a, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(b)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b &amp; <span class="number">1</span>) sum = (sum + temp) % mod;</span><br><span class="line">		temp = (temp + temp) % mod;</span><br><span class="line">		b = b &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Modular_exponent</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> mod)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> t = a % mod, r = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(x)&#123;</span><br><span class="line">		<span class="keyword">if</span>(x &amp; <span class="number">1</span>) r = multi(r, t, mod);</span><br><span class="line">		t = multi(t, t, mod); x = x &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Miller_Rabin</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> time = <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">if</span>(n &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> k = <span class="number">0</span>; k &lt;= time; ++k)&#123;</span><br><span class="line">		flag = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> d = n - <span class="number">1</span>, r = <span class="number">0</span>, t, a = rand() % (n - <span class="number">2</span>) + <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">while</span>((d &amp; <span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">			d = d&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			r++;</span><br><span class="line">		&#125;</span><br><span class="line">		t = Modular_exponent(a, d, n);</span><br><span class="line">		<span class="keyword">if</span>(t == <span class="number">1</span> || t == n<span class="number">-1</span>) &#123;flag = <span class="literal">true</span>; <span class="keyword">continue</span>;&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt; r; i++)&#123;</span><br><span class="line">			t = multi(t, t, n);</span><br><span class="line">			<span class="keyword">if</span>(t == <span class="number">1</span>) &#123;flag = <span class="literal">false</span>; <span class="keyword">return</span> flag;&#125;</span><br><span class="line">			<span class="keyword">if</span>(t == n<span class="number">-1</span>) &#123;flag = <span class="literal">true</span>; <span class="keyword">break</span>;&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!flag) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> n;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n)!=EOF)</span><br><span class="line">	<span class="built_in">puts</span>((n == <span class="number">4</span> || (n != <span class="number">2</span> &amp;&amp; Miller_Rabin(n))) ? <span class="string">"Yes"</span> : <span class="string">"No"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="定理：给定两个互素的正整数A和B，那么他们最大不能组合的数为AB-A-B-不能组合的个数为num-frac-A-1-B-1-2"><a href="#定理：给定两个互素的正整数A和B，那么他们最大不能组合的数为AB-A-B-不能组合的个数为num-frac-A-1-B-1-2" class="headerlink" title="定理：给定两个互素的正整数Ａ和Ｂ，那么他们最大不能组合的数为AB-A-B,不能组合的个数为num=$\frac{(A-1)(B-1)}{2}$"></a>定理：给定两个互素的正整数Ａ和Ｂ，那么他们最大不能组合的数为AB-A-B,不能组合的个数为num=$\frac{(A-1)(B-1)}{2}$</h2><p>ax+by=c的存在非负解的条件就是c&gt;AB-A-B.</p><p><a href="https://vjudge.net/problem/37337/origin" target="_blank" rel="noopener">HDU - 1792</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,a*b-a-b,(a<span class="number">-1</span>)*(b<span class="number">-1</span>)/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="定理-sum-gcd-i-N-sum-d-phi-frac-N-d"><a href="#定理-sum-gcd-i-N-sum-d-phi-frac-N-d" class="headerlink" title="定理$\sum{gcd(i,N)=\sum{d\phi(\frac{N}{d})}}$"></a>定理$\sum{gcd(i,N)=\sum{d\phi(\frac{N}{d})}}$</h2><p>数论专题里也有一题如是说．</p><p><a href="https://vjudge.net/problem/POJ-2480" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-2480</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 50000</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> judge[maxn];</span><br><span class="line"><span class="keyword">int</span> prime[maxn];</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    tot = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(judge,<span class="number">0</span>,<span class="keyword">sizeof</span> judge);</span><br><span class="line">    <span class="built_in">memset</span>(prime, <span class="number">0</span>, <span class="keyword">sizeof</span> prime);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!judge[i])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i;  j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge[j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prime[tot++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n))&#123;</span><br><span class="line">        ll ans = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot &amp;&amp; prime[i]*prime[i] &lt;= n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(n%prime[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> cot = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>(n%prime[i]==<span class="number">0</span>)&#123;cot++;n/=prime[i];&#125;</span><br><span class="line">                ans += ans * cot * (prime[i]<span class="number">-1</span>)/prime[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n!=<span class="number">1</span>)ans += ans*(n<span class="number">-1</span>)/n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="剩下没有题目的定理"><a href="#剩下没有题目的定理" class="headerlink" title="剩下没有题目的定理"></a>剩下没有题目的定理</h2><p>$$<br>(n+1)lcm(C_n^0,C_n^1,C_n^2,…,C_N^{n-1},C_n^N)=lcm(1,2,…,n+1)<br>$$</p><p>$$<br>定理：任何n个连续的正整数的乘积均可被n!整除<br>$$</p><p>结论：<br>$$<br>如果p是素数，那么C_p^1,C_p^2,C_p^3,…C_p^{p-1},均能被p整除\<br>如果p是素数，那么有(x+y+..+w)^p≡x^p+y^p+…+w^p(mod p)\<br>$$</p><h1 id="Day-Two"><a href="#Day-Two" class="headerlink" title="Day Two"></a>Day Two</h1><h2 id="卢卡斯－莱默检验法-检验梅森素数"><a href="#卢卡斯－莱默检验法-检验梅森素数" class="headerlink" title="卢卡斯－莱默检验法 检验梅森素数"></a>卢卡斯－莱默检验法 检验梅森素数</h2><p>$$<br>梅森素数M_p =2^p-1，p为素数．，定义序列{s_i}，所有的i ≥ 0, \<br>si= \begin{cases} 4, i=0 \ s_{i-1}^{2}-2,i&gt;0 \end{cases}<br>M_p是素数当且仅当s_{p-2} \equiv 0(modM_p)<br>$$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line">ll T,p;</span><br><span class="line"><span class="function">ll <span class="title">multi</span><span class="params">(ll a, ll b, ll m)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)ans = (ans+a)%m;</span><br><span class="line">        a = (a+a)%m;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;p);</span><br><span class="line">        ll n = ((ll) <span class="number">1</span>&lt;&lt;p)<span class="number">-1</span>;</span><br><span class="line">        ll r = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">2</span>)<span class="built_in">puts</span>(<span class="string">"yes"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>((--p)!=<span class="number">1</span>)r=(multi(r,r,n)<span class="number">-2</span>+n)%n;</span><br><span class="line">            <span class="keyword">if</span>(r%n==<span class="number">0</span>)<span class="built_in">puts</span>(<span class="string">"yes"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"no"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Miller-Rabin素数测试"><a href="#Miller-Rabin素数测试" class="headerlink" title="Miller-Rabin素数测试"></a>Miller-Rabin素数测试</h2><p>​ <strong>费马小定理</strong>：对于素数p和任意整数a，有$$a^p ≡ a(mod p)$$（同余）。反过来，满足$$a^p ≡ a(mod p)$$，p也<strong>几乎</strong>一定是素数。</p><p>　　<strong>伪素数</strong>：如果n是一个正整数，如果存在和n互素的正整数a满足 $a^{n-1} ≡ 1(mod n)$，我们说n是基于a的伪素数。如果一个数是伪素数，那么它几乎肯定是素数。</p><p>​ 序列:<br>​ a^m%n; a^(2m)%n; a^(4m)%n; …… ;a^(m*2^q)%n把上述测试序列叫做Miller测试,关于Miller测试,有下面的定理:</p><p>定理:若n是素数,a是小于n的正整数,则n对以a为基的Miller测试,结果为真.Miller测试进行k次,将合数当成素数处理的错误概率最多不会超过4^(-k).</p><p>　　<strong>Miller-Rabin测试</strong>：不断选取不超过n-1的基b(s次)，计算是否每次都有$$b^{n-1} ≡ 1(mod n)$$，若每次都成立则n是素数，否则为合数。　</p><p>​ <strong>二次探测定理 </strong>：p为素数，０&lt;x&lt;p,则方程$x^2 ≡ 1(mod p)的解为１或者p-1$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Times = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">multi</span><span class="params">(ll a, ll b ,ll m)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    a%=m;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)ans = (ans+a)%m;</span><br><span class="line">        a = (a+a)%m;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_mod</span><span class="params">(ll a, ll b, ll m)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    a %= m;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)ans = multi(ans, a, m);</span><br><span class="line">        a = multi(a,a,m);</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Miller_Rabin</span><span class="params">(ll n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>((n&lt;<span class="number">2</span>) || !(n&amp;<span class="number">1</span>))<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    ll m = n<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((m&amp;<span class="number">1</span>)==<span class="number">0</span>)&#123;</span><br><span class="line">        k++;</span><br><span class="line">        m&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Times; i++)&#123;</span><br><span class="line">        ll a = rand()%(n<span class="number">-1</span>)+<span class="number">1</span>;</span><br><span class="line">        ll x = quick_mod(a,m,n);</span><br><span class="line">        ll y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++)&#123;</span><br><span class="line">            y = multi(x,x,n);</span><br><span class="line">            <span class="keyword">if</span>(y==<span class="number">1</span> &amp;&amp; x!=<span class="number">1</span> &amp;&amp; x!= n<span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            x = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(y!=<span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        ll n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span>(Miller_Rabin(n))<span class="built_in">puts</span>(<span class="string">"Yes"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"No"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>例题：[<strong><a href="http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1186" target="_blank" rel="noopener">http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1186</a></strong></p></blockquote><p>java写大数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by huchi on 17-7-18.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> Times = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BigInteger <span class="title">quick_mod</span><span class="params">(BigInteger a, BigInteger b, BigInteger m)</span></span>&#123;</span><br><span class="line">        BigInteger ans = BigInteger.ONE;</span><br><span class="line">        a = a.mod(m);</span><br><span class="line">        <span class="keyword">while</span>(!b.equals(BigInteger.ZERO))&#123;</span><br><span class="line">            <span class="keyword">if</span>(b.mod(BigInteger.valueOf(<span class="number">2</span>)).equals(BigInteger.ONE))&#123;</span><br><span class="line">                ans = (ans.multiply(a)).mod(m);</span><br><span class="line">                b = b.subtract(BigInteger.ONE);</span><br><span class="line">            &#125;</span><br><span class="line">            b = b.divide(BigInteger.valueOf(<span class="number">2</span>));</span><br><span class="line">            a = (a.multiply(a)).mod(m);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">Miller_Rabin</span><span class="params">(BigInteger n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n.equals(BigInteger.valueOf(<span class="number">2</span>)))<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(n.equals(BigInteger.ONE))<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>((n.mod(BigInteger.valueOf(<span class="number">2</span>))).equals(BigInteger.ZERO))<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        BigInteger m = n.subtract(BigInteger.ONE);</span><br><span class="line">        BigInteger y = BigInteger.ZERO;</span><br><span class="line">        <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((m.mod(BigInteger.valueOf(<span class="number">2</span>))).equals(BigInteger.ZERO))&#123;</span><br><span class="line">            k++;</span><br><span class="line">            m = m.divide(BigInteger.valueOf(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        Random d = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//随机数</span></span><br><span class="line">            <span class="keyword">if</span>(n.compareTo(BigInteger.valueOf(<span class="number">10000</span>))==<span class="number">1</span>)&#123;</span><br><span class="line">                t = <span class="number">10000</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                t = n.intValue()-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> a = d.nextInt(t) + <span class="number">1</span>;</span><br><span class="line">            BigInteger x = quick_mod(BigInteger.valueOf(a), m, n);</span><br><span class="line">            <span class="comment">//测试</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++)&#123;</span><br><span class="line">                y = (x.multiply(x)).mod(n);</span><br><span class="line">                <span class="keyword">if</span>(y.equals(BigInteger.ONE)</span><br><span class="line">                        &amp;&amp; !(x.equals(BigInteger.ONE))</span><br><span class="line">                        &amp;&amp; !(x.equals(n.subtract(BigInteger.ONE))))&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                x = y;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!(y.equals(BigInteger.ONE)))<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(in.hasNextBigInteger())&#123;</span><br><span class="line">            BigInteger n = in.nextBigInteger();</span><br><span class="line">            <span class="keyword">if</span>(Miller_Rabin(n))System.out.println(<span class="string">"Yes"</span>);</span><br><span class="line">            <span class="keyword">else</span> System.out.println(<span class="string">"No"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="扩展欧几里得"><a href="#扩展欧几里得" class="headerlink" title="扩展欧几里得"></a>扩展欧几里得</h2><p>二元一次方程$$ax_1+by_1=gcd(a,b)$$;</p><p>a&gt;b时，b==0时，x=1,y=0,　否则设$bx_2+(a\ mod\ b)y_2 = gcd(b, a\ mod \ b)=gcd(a,b)$</p><p>又有$ax_1 +by_1=bx_2+(a-[\frac{a}{b}]b)y_2$</p><p>则有$x_1=y_2,y_1=x_2-[\frac{a}{b}]y_2$,　用递推实现．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">e_gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> &amp;d, <span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)&#123;</span><br><span class="line">        d=a,x=<span class="number">1</span>,y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        e_gcd(b,a%b,d,y,x);</span><br><span class="line">        y -= (a/b)*x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代表的是ax+by=gcd(a,b)的解x,y,和d为gcd(a,b);，得到的x,y中a&gt;b则x为正．在gcd(a,b)==1的时候，可以领y=(y%a+a)％a把y变成正的，再根据等式把x变成负的就行．</p><p>例题：<a href="https://vjudge.net/problem/POJ-2142" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-2142</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b?gcd(b,a%b):a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">e_gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> &amp;d, <span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)&#123;</span><br><span class="line">        d=a,x=<span class="number">1</span>,y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        e_gcd(b,a%b,d,y,x);</span><br><span class="line">        y -= (a/b)*x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b,c;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;c) &amp;&amp; (a+b+c))&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, d, tx, ty;</span><br><span class="line">        <span class="keyword">int</span> gd = gcd(a,b);</span><br><span class="line">        a /= gd; b/= gd; c/= gd;</span><br><span class="line">        e_gcd(a,b,d,x,y);</span><br><span class="line">        <span class="comment">//获取x非负的时候的情况</span></span><br><span class="line">        tx = x*c;</span><br><span class="line">        tx = (tx%b + b)%b;</span><br><span class="line">        ty = (c-tx*a)/b;</span><br><span class="line">        <span class="keyword">if</span>(ty &lt; <span class="number">0</span>)ty = -ty;</span><br><span class="line">        <span class="comment">//获取y非负的情况</span></span><br><span class="line">        y = y*c;</span><br><span class="line">        y = (y%a + a)%a;</span><br><span class="line">        x = (c-b*y)/a;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>)x =-x;</span><br><span class="line">        <span class="keyword">if</span>(x+y&gt;tx+ty)&#123;</span><br><span class="line">            x=tx;</span><br><span class="line">            y=ty;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://vjudge.net/problem/HIT-2815" target="_blank" rel="noopener">https://vjudge.net/problem/HIT-2815</a></p><p>题目没读清，特判就写错了，扩展欧几里得和上面一道题一样的用．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b?gcd(b, a%b):a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">e_gcd</span><span class="params">(ll a, ll b, ll &amp;d, ll &amp;x, ll &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)&#123;</span><br><span class="line">        d = a; x = <span class="number">1</span>; y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        e_gcd(b,a%b,d,y,x);</span><br><span class="line">        y -= (a/b)*x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll t,a,b,d,x,y;<span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a,&amp;b);</span><br><span class="line">        <span class="keyword">if</span>(a*b==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a==<span class="number">1</span> || b==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"1"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="number">1</span> || b==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(max(a,b)==<span class="number">2</span>)</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"1"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"2"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(gcd(a,b)!=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            e_gcd(a,b,d,x,y);</span><br><span class="line">            ll tx,ty;</span><br><span class="line">            tx = (x%b+b)%b;</span><br><span class="line">            ty = (<span class="number">1</span>-a*x)/b;</span><br><span class="line">            <span class="keyword">if</span>(ty&lt;<span class="number">0</span>)ty = -ty;</span><br><span class="line">            y = (y%a+a)%a;</span><br><span class="line">            x = (<span class="number">1</span>-b*y)/a;</span><br><span class="line">            <span class="keyword">if</span>(x&lt;<span class="number">0</span>)x=-x;</span><br><span class="line">            <span class="keyword">if</span>(x+y&gt;tx+ty)&#123;</span><br><span class="line">                x = tx;</span><br><span class="line">                y = ty;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,x+y<span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="毕达哥拉斯三元组的解"><a href="#毕达哥拉斯三元组的解" class="headerlink" title="毕达哥拉斯三元组的解"></a>毕达哥拉斯三元组的解</h2><p>$x^2+y^2=z^2$，只考虑本原解．不妨假设x为偶数,y,z为奇数.这样就必有$x=2mn,y=m^2-n^2,z=m^2+n^2$．</p><p>例题：<a href="https://vjudge.net/problem/POJ-1305" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-1305</a></p><p>输出两个数据，一个是z不大于n的本原解的个数，和本原解中没有用到的数的个数．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1000111</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> biao[maxn];</span><br><span class="line"><span class="keyword">bool</span> flag[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b?gcd(b,a%b):a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">memset</span>(flag,<span class="number">0</span>,<span class="keyword">sizeof</span> flag);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gcd(i,j)!=<span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>((i&amp;<span class="number">1</span>)&amp;&amp;(j&amp;<span class="number">1</span>))<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(i*i+j*j&lt;maxn)biao[i*i+j*j]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        biao[i]+=biao[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n))&#123;</span><br><span class="line">    <span class="built_in">memset</span>(flag,<span class="number">0</span>,<span class="keyword">sizeof</span> flag);</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt; maxn; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(gcd(i,j)!=<span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>((i&amp;<span class="number">1</span>)&amp;&amp;(j&amp;<span class="number">1</span>))<span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k*(i*i+j*j)&lt;=n; k++)&#123;</span><br><span class="line">                    flag[<span class="number">2</span>*i*j*k]=flag[k*(i*i-j*j)]=flag[k*(i*i+j*j)]=<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">if</span>(flag[i])ans++;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,biao[n],n-ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例题二:</p><p>利用毕达哥拉斯三元组＋欧拉函数＋容斥原理</p><p><a href="https://vjudge.net/problem/HDU-3939??" target="_blank" rel="noopener">https://vjudge.net/problem/HDU-3939??</a>?</p><p>寻找满足的i,j满足gcd(i,j)=1,dfs()容斥原理来找有多少互斥的数．</p><p>这里需要判断i&lt;＝j和i&gt;j的情况．其中,i&lt;=j时，i为偶数,则直接加phi[i]，i为奇数时,由于j必须为偶数,不能用phi[i]，所以用容斥原理，一共i&gt;&gt;1个数(晒去了２的倍数)．大于时同理．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1001000</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> judge[maxn];</span><br><span class="line"><span class="keyword">int</span> prime[maxn/<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> phi[maxn];</span><br><span class="line"><span class="keyword">int</span> check[<span class="number">40</span>];</span><br><span class="line"><span class="keyword">int</span> tot,num;</span><br><span class="line">ll ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    tot = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(judge, <span class="number">0</span>, <span class="keyword">sizeof</span> judge);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!judge[i])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge[j]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prime[tot++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; maxn; i++)phi[i]=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i+=<span class="number">2</span>)phi[i]&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; maxn; i+=<span class="number">2</span>)<span class="keyword">if</span>(phi[i]==i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">            phi[j] = phi[j] - phi[j]/i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime_check</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!judge[n])&#123;</span><br><span class="line">        check[num++]=n;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot &amp;&amp; n &gt; <span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%prime[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            check[num++]=prime[i];</span><br><span class="line">            <span class="keyword">while</span>(n%prime[i]==<span class="number">0</span>) n/=prime[i];</span><br><span class="line">            <span class="keyword">if</span>(n&gt;<span class="number">1</span> &amp;&amp; !judge[n])&#123;</span><br><span class="line">                check[num++]=n;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//容斥原理计算无关的数fun(j)=j-(j/c1+j/c2+j/c3)+(j/(c1*c2)+j/(c1*c3)+j/(c2*c3))-(j/(c1*c2*c3))。</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> r, <span class="keyword">int</span> s, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==num)&#123;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>) ans -= n/s;</span><br><span class="line">        <span class="keyword">else</span> ans+= n/s;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(k+<span class="number">1</span>, r, s, n);</span><br><span class="line">    dfs(k+<span class="number">1</span>, r+<span class="number">1</span>, s*check[k], n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll L;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;L);</span><br><span class="line">        <span class="keyword">int</span> m = (<span class="keyword">int</span>)<span class="built_in">sqrt</span>(<span class="number">1.0</span>*L);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = m; i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">int</span> p = (<span class="keyword">int</span>)<span class="built_in">sqrt</span>(L - (ll)i*i);</span><br><span class="line">            <span class="comment">//需要寻找gcd(i,j)=1的个数</span></span><br><span class="line">            <span class="keyword">if</span>(i&lt;=p)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&amp;<span class="number">1</span>)&#123;</span><br><span class="line">                    prime_check(i);</span><br><span class="line">                    dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,i&gt;&gt;<span class="number">1</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> ans+=phi[i];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">// i&gt;p时，j所取的范围在[1,p]</span></span><br><span class="line">                prime_check(i);</span><br><span class="line">                <span class="keyword">if</span>(i&amp;<span class="number">1</span>)dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,p&gt;&gt;<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span> dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,p);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="欧拉函数与欧拉定理"><a href="#欧拉函数与欧拉定理" class="headerlink" title="欧拉函数与欧拉定理"></a>欧拉函数与欧拉定理</h2><p>定理一：$$m与n互素，\phi(mn)=\phi(m)\phi(n)$$, 所以n为奇数时，我们有$\phi(2n)=\phi(n)$</p><p>定理二: p是素数，有$\phi(p^a)=p^a-p^{a-1}$,容斥原理．</p><p>定理三: $n=p_1^{\alpha_1}p_2^{\alpha_2}…p_k^{\alpha_k}时，\phi(n)=n(1-\frac{1}{p_1})(1-\frac{1}{p_2})…(1-\frac{1}{p_k})$　定理１＋３</p><p>定理四: $\sum_{d|n}{\phi(d)}= n$ 莫比乌斯反演．</p><p>定理五: (a,m)=1,则$x \equiv ba^{\phi(m)-1} 是同于方程 ax \equiv b(mod \ m)$</p><p>定理六: n&gt;2时，$\phi(n)$为偶数</p><p><strong>定理三求解欧拉函数</strong>：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">phi</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%i==<span class="number">0</span>)&#123;</span><br><span class="line">            ans = ans - ans/i;</span><br><span class="line">            <span class="keyword">while</span>(n%i==<span class="number">0</span>) n/=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;<span class="number">1</span>)ans = ans-ans/n;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>容斥原理，筛法去减不满足的．</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100000</span></span><br><span class="line"><span class="keyword">int</span> p[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">phi_table</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(p,<span class="number">0</span>,<span class="keyword">sizeof</span> p);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; maxn; i++)p[i]=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i+=<span class="number">2</span>)p[i]&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; maxn; i+=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i]==i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; maxn; j+=i)</span><br><span class="line">                p[j]=p[j]-p[j]/i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二次筛法"><a href="#二次筛法" class="headerlink" title="二次筛法"></a>二次筛法</h2><p>这道题有类似的在kuangbin的数论基础专题里有出现过．</p><p>例题：<a href="https://vjudge.net/problem/POJ-2689" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-2689</a></p><p>注意1　2这个样例．．．还有晒的时候不能把质数也晒了．．．．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 50000</span></span><br><span class="line"><span class="keyword">int</span> prime[maxn];</span><br><span class="line"><span class="keyword">bool</span> judge2[<span class="number">21</span>*maxn];</span><br><span class="line"><span class="keyword">bool</span> judge1[maxn];</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> tot=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(judge1,<span class="number">0</span>,<span class="keyword">sizeof</span> judge1);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i&lt;maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!judge1[i])&#123;</span><br><span class="line">            prime[tot++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge1[j]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> u,v;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;v))&#123;</span><br><span class="line">        <span class="keyword">if</span>(u==<span class="number">1</span>)u=<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">memset</span>(judge2,<span class="number">0</span>,<span class="keyword">sizeof</span> judge2);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(prime[i]&gt;v)<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">unsigned</span> <span class="keyword">int</span> j=u/prime[i]*prime[i];</span><br><span class="line">            <span class="keyword">if</span>(u%prime[i]==<span class="number">0</span> &amp;&amp; u!=prime[i])judge2[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&lt;=u)j+=prime[i];</span><br><span class="line">            <span class="keyword">if</span>(j==prime[i])j+=j;</span><br><span class="line">            <span class="keyword">for</span>(;j&lt;=v;j+=prime[i])&#123;</span><br><span class="line">                judge2[j-u]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> st,stlen=maxn,ed,edlen=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> cot=<span class="number">0</span>,len=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= v-u; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!judge2[i])&#123;</span><br><span class="line">                <span class="keyword">if</span>(len &amp;&amp;len&lt;stlen)&#123;</span><br><span class="line">                    st = i-len;</span><br><span class="line">                    stlen = len;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(len &amp;&amp; len&gt;edlen)&#123;</span><br><span class="line">                    ed = i-len;</span><br><span class="line">                    edlen = len;</span><br><span class="line">                &#125;</span><br><span class="line">                cot++;</span><br><span class="line">                len = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            len ++ ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cot!=<span class="number">2</span> &amp;&amp; st==ed)&#123;</span><br><span class="line">            ed = st+stlen;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cot&gt;<span class="number">1</span>)<span class="built_in">printf</span>(<span class="string">"%d,%d are closest, %d,%d are most distant.\n"</span>,u+st,u+st+stlen,u+ed,u+ed+edlen);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"There are no adjacent primes."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="逆元"><a href="#逆元" class="headerlink" title="逆元"></a>逆元</h2><p>正整数a,m，如果有$ax \equiv 1(mod \ m)$,这个同于方程中x的最小正整数解叫做a模m的逆元．</p><p>逆元一般用扩展欧几里得算法来求．m为素数时，由费马小定理得到逆元为$a^{m-2}modm$</p><p><strong><em>逆元常见问题</em></strong></p><p>已知b|a，求解$ans = \frac{a}{b}mod \ m$</p><p>常见解法:扩展欧几里得．m是素数时，直接用费马小定理．但他们都需要a与m互素．</p><p>除法取模求逆元的通用方法： $ans =\frac{ a \ mod(mb)}{b}$<br>$$<br>\frac{a}{b}=km+x(x&lt;m),a=kbm+bx,a\ mod(bm)=bx,x = \frac{a\ mod(bm)}{b}<br>$$<br>例题：<a href="https://vjudge.net/problem/POJ-1845" target="_blank" rel="noopener">https://vjudge.net/problem/POJ-1845</a></p><p>求$A^B$的所有因子和对9901取余的结果．</p><p>考虑$$A=p_1^{\alpha_1}p_2^{\alpha_2}…p_k^{\alpha_k} ,A^B=p_1^{\alpha_1 B}p_2^{\alpha_2B}…p_k^{\alpha_kB}$$</p><p>所有的因子和：$$sum=\prod_{1\le i \le k} \sum_{0 \le j \le \alpha_iB} p_i^{j}$$</p><p>可以用二分求等比数列和，也可以用等比数列公式(需要用逆元)直接求.分别写在了Method_one和Method_two中．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 10000</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">ll mod =<span class="number">9901</span>;</span><br><span class="line"><span class="keyword">bool</span> judge[maxn];</span><br><span class="line">ll check[maxn][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> prime[maxn/<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> tot,num;</span><br><span class="line">ll a,b;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    tot=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(judge, <span class="number">0</span>, <span class="keyword">sizeof</span> judge);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!judge[i])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge[j]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prime[tot++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">multi</span><span class="params">(ll a, ll b, ll m)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    a %= m;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)ans = (ans+a)%m;</span><br><span class="line">        a = (a+a)%m;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">largequickmod</span><span class="params">(ll p, ll k, ll m)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&amp;<span class="number">1</span>)ans = multi(ans,p,m);</span><br><span class="line">        p = multi(p,p,m);</span><br><span class="line">        k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quickmod</span><span class="params">(ll p, ll k)</span></span>&#123;</span><br><span class="line">    ll ans=<span class="number">1</span>;</span><br><span class="line">    p%=mod;</span><br><span class="line">    <span class="keyword">while</span>(k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&amp;<span class="number">1</span>)ans = ans*p%mod;</span><br><span class="line">        p = (p*p)%mod;</span><br><span class="line">        k&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">S</span><span class="params">(ll p, ll k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    ll temp = quickmod(p,(k&gt;&gt;<span class="number">1</span>))%mod;</span><br><span class="line">    <span class="keyword">if</span>(k&amp;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> S(p,k&gt;&gt;<span class="number">1</span>)%mod*(<span class="number">1</span>+temp*p%mod)%mod;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (S(p,(k&gt;&gt;<span class="number">1</span>)<span class="number">-1</span>)%mod*(<span class="number">1</span>+temp*p%mod)%mod+temp)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Method_one</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++)&#123;</span><br><span class="line">        ans = (ans * S(check[i][<span class="number">0</span>], b*check[i][<span class="number">1</span>]))%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">0</span>)ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Method_two</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++)&#123;</span><br><span class="line">        ll M = mod*(check[i][<span class="number">0</span>]<span class="number">-1</span>);</span><br><span class="line">        ans *= (largequickmod(check[i][<span class="number">0</span>], check[i][<span class="number">1</span>]*b+<span class="number">1</span>, M)+M<span class="number">-1</span>)/(check[i][<span class="number">0</span>]<span class="number">-1</span>);</span><br><span class="line">        ans %= mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a,&amp;b))&#123;</span><br><span class="line">        ll temp = a;</span><br><span class="line">        num=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span> check);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(temp&lt;=<span class="number">1</span>)<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(temp%prime[i]==<span class="number">0</span>)&#123;check[num++][<span class="number">0</span>]=prime[i];&#125;</span><br><span class="line">            <span class="keyword">while</span>(temp%prime[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                temp/=prime[i];</span><br><span class="line">                check[num<span class="number">-1</span>][<span class="number">1</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(temp&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            check[num][<span class="number">0</span>]=temp;</span><br><span class="line">            check[num++][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Method_one();</span></span><br><span class="line">        Method_two();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1→p模p的所有逆元，这里p为奇质数．用快速幂的复杂度Ｏ(plog(p)),用递推式可以优化到Ｏ(p)：<br>$$<br>inv[i] = (M-M/i)<em>inv[M\%i] \%M \ 推导：t=M/i,k=M\%i,有t</em>i+k \equiv 0 (modM), -t<em>i \equiv k(modM)\ 两边同时除i</em>k记作:-t<em>inv[k] \equiv inv<a href="modM">i</a>\ 即　inv[i] = (M- M/i)</em>inv[M\%i]\%M<br>$$<br>初始化inv[1]=1,就可以通过递推法求出1→p模奇素数的所有逆元．</p><p><a href="http://www.lydsy.com/JudgeOnline/problem.php?id=2186" target="_blank" rel="noopener">http://www.lydsy.com/JudgeOnline/problem.php?id=2186</a></p><p>例题：1-N!中与M!互质的数的个数，M&lt;=N;M!|N!, ．当n是m的倍数时，1-n中与m互素的个数为$\frac{n}{m}\phi(m)$</p><p>题目中　$\frac{N!}{M!}\phi(M!) = \frac{N!}{M!}M!(1-\frac{1}{p_1})(1-\frac{1}{p_2})…(1-\frac{1}{p_k})$.　　</p><p>时间卡的特别紧．bool开的就超时了．inv[i]算逆元．multi[maxn]算阶乘取模，要求p与m互质，否则需要用除法取模．</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 10000005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">ll mod;</span><br><span class="line"><span class="built_in">bitset</span>&lt;maxn&gt; judge;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    judge.<span class="built_in">set</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">4</span>; i &lt; maxn; i+=<span class="number">2</span>)judge[i]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; maxn; i+=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(judge[i])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt; maxn; j+=i)&#123;</span><br><span class="line">                judge[j]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ll multi[maxn];</span><br><span class="line"><span class="keyword">int</span> inv[maxn];</span><br><span class="line">ll ans[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> T,R;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;T,&amp;R);</span><br><span class="line">    mod = R;</span><br><span class="line">    multi[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        multi[i]=multi[i<span class="number">-1</span>]*i%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    inv[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; mod &amp;&amp; i &lt; maxn; i++)&#123;</span><br><span class="line">        inv[i]=(mod-mod/i)*inv[mod%i]%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    ans[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(judge[i])&#123;</span><br><span class="line">            ans[i] = ans[i<span class="number">-1</span>]*(i<span class="number">-1</span>)%mod;</span><br><span class="line">            ans[i] = ans[i]*inv[i%mod]%mod;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            ans[i] = ans[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        ll anss = <span class="number">1L</span>L*multi[n]*ans[m]%mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,anss);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="欧拉筛"><a href="#欧拉筛" class="headerlink" title="欧拉筛"></a>欧拉筛</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getphi</span><span class="params">()</span>    </span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">   <span class="keyword">int</span> i,j;    </span><br><span class="line">   phi[<span class="number">1</span>]=<span class="number">1</span>;    </span><br><span class="line">   <span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=N;i++)<span class="comment">//相当于分解质因式的逆过程    </span></span><br><span class="line">   &#123;    </span><br><span class="line">       <span class="keyword">if</span>(!mark[i])    </span><br><span class="line">           &#123;    </span><br><span class="line">             prime[++tot]=i;<span class="comment">//筛素数的时候首先会判断i是否是素数。    </span></span><br><span class="line">             phi[i]=i<span class="number">-1</span>;<span class="comment">//当 i 是素数时 phi[i]=i-1    </span></span><br><span class="line">             &#125;    </span><br><span class="line">       <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=tot;j++)    </span><br><span class="line">       &#123;    </span><br><span class="line">          <span class="keyword">if</span>(i*prime[j]&gt;N)  <span class="keyword">break</span>;    </span><br><span class="line">          mark[i*prime[j]]=<span class="number">1</span>;<span class="comment">//确定i*prime[j]不是素数    </span></span><br><span class="line">          <span class="keyword">if</span>(i%prime[j]==<span class="number">0</span>)<span class="comment">//接着我们会看prime[j]是否是i的约数    </span></span><br><span class="line">          &#123;    </span><br><span class="line">             phi[i*prime[j]]=phi[i]*prime[j];<span class="keyword">break</span>;    </span><br><span class="line">          &#125;    </span><br><span class="line">          <span class="keyword">else</span>  phi[i*prime[j]]=phi[i]*(prime[j]<span class="number">-1</span>);<span class="comment">//其实这里prime[j]-1就是phi[prime[j]]，利用了欧拉函数的积性    </span></span><br><span class="line">       &#125;    </span><br><span class="line">   &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/数论/">数论</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math/">math</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数论/">数论</a></li></ul></div><div class="clearfix"></div></div></div></article><article id="article-acm/数论基础专题整理(1)" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/16/acm/数论基础专题整理(1)/" class="article-date"><time datetime="2017-07-16T10:40:42.000Z" itemprop="datePublished">2017-07-16</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/16/acm/数论基础专题整理(1)/">数论专题整理(1)</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="数论专题整理"><a href="#数论专题整理" class="headerlink" title="数论专题整理"></a>数论专题整理</h1><h2 id="A-Bi-shoe-and-Phi-shoe"><a href="#A-Bi-shoe-and-Phi-shoe" class="headerlink" title="A - Bi-shoe and Phi-shoe"></a><a href="https://vjudge.net/problem/LightOJ-1370" target="_blank" rel="noopener">A - Bi-shoe and Phi-shoe</a></h2><p>Ａ打表题。</p><p>题意是找到最小的i使得$\phi(i)$大于所给值。并求取所有这样的i的$\sum{i}$和。</p><p>$\phi(i)$最小的i一定是质数，所以把质数打出来就可以了。</p></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/数论/">数论</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math/">math</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数论/">数论</a></li></ul></div><p class="article-more-link"><a href="/2017/07/16/acm/数论基础专题整理(1)/#more">阅读全文 >></a></p><div class="clearfix"></div></div></div></article><article id="article-acm/数位dp" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/12/acm/数位dp/" class="article-date"><time datetime="2017-07-12T04:40:42.000Z" itemprop="datePublished">2017-07-12</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/12/acm/数位dp/">数位dp专题整理</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="数位dp专题整理"><a href="#数位dp专题整理" class="headerlink" title="数位dp专题整理"></a>数位dp专题整理</h1><p>关键在于找到不同位的关系。<br>注意0。</p></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/acm专题整理/">acm专题整理</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li></ul></div><p class="article-more-link"><a href="/2017/07/12/acm/数位dp/#more">阅读全文 >></a></p><div class="clearfix"></div></div></div></article><article id="article-读书笔记/拆掉思维里的墙(下)" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/09/读书笔记/拆掉思维里的墙(下)/" class="article-date"><time datetime="2017-07-08T18:40:42.000Z" itemprop="datePublished">2017-07-09</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/09/读书笔记/拆掉思维里的墙(下)/">拆掉思维里的墙(下)</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="如何找到热衷一生的事业"><a href="#如何找到热衷一生的事业" class="headerlink" title="如何找到热衷一生的事业"></a>如何找到热衷一生的事业</h1><p>​ 借用基督徒每天向上帝祈祷中一张彩票却从来不买彩票的故事讲述了：<strong>尝试总是冒险的，而不尝试是最大的冒险</strong></p><p>​ 很无聊的方法论。我就大概列一下提纲。</p><p>了解职业的真实信息：</p><ol><li><p>做一个在职人士的职业访谈</p></li><li><p>尝试一个与目标职业相关的培训</p></li><li><p>进入一些专业职业论坛或博客群</p></li><li><p>看招聘网站和公司网站</p></li><li><p>找一些职业数据库</p></li><li><p>给名人写信</p><p>后面的关于不要做太完美的职业规划还是有点道理的。莫名其妙的因果关系，但是有些话还是对的：</p></li></ol><blockquote><p><strong>职业是自身天赋和现在世界局势的结合。</strong></p><p>*你的天赋与社会需求的结合点，就是你的职业所在** —-亚里士多德</p><p><strong>你的时间需要规划，但永远不要百分百的规划它。如果那样的话，你会扼杀自己创造性的冲动。</strong>—-尼古拉斯</p><p><strong>懂得静观大地开花结果的人，决不会为失去的一切而痛心。</strong> —-勒内</p></blockquote><p>​ 后面还稍微提到了沉没成本，感觉大家都在说这个？？？</p><p>​ 最后的Impossible和I‘mpossible真的是不错的，只差一撇，确实两个结局。之后解释了远航者和漂泊者，虽然都去过很多地方，但是远航者更有目标性，而漂泊者只是在逃避。现在想想自己不就是一个极好的反面教材么。因为开始太容易所以不停的切换，不停的逃避。</p><hr><h1 id="原来我还可以这样活"><a href="#原来我还可以这样活" class="headerlink" title="原来我还可以这样活"></a>原来我还可以这样活</h1><p>这是标题党吧。。。。。开头没有什么有价值的东西。</p><h1 id="幸福是一种转化力"><a href="#幸福是一种转化力" class="headerlink" title="幸福是一种转化力"></a>幸福是一种转化力</h1><p>​ 父母和自己对生活安排的冲突，但是有点极端，为啥一定得父母不爽我爽这种模式呢。</p><p>​ 还有欲望对快乐的影响，应该。。。太浅显了吧。。。</p><h1 id="上天捕上要你成功，他只需要你尝试"><a href="#上天捕上要你成功，他只需要你尝试" class="headerlink" title="上天捕上要你成功，他只需要你尝试"></a>上天捕上要你成功，他只需要你尝试</h1><p>​ <strong>我们真正的痛苦，来自于因耽搁而产生的持续的焦虑，来自于因最后时刻所完成项目质量之低劣而产生的负罪感，还来自于因为失去人生中许多机会而产生的深深的悔恨</strong> —-尼尔·菲尔</p><h1 id="成长为自己的样子"><a href="#成长为自己的样子" class="headerlink" title="成长为自己的样子"></a>成长为自己的样子</h1><p>​ 讲述了价值和价格的区别？？？后面还提出了规划：</p><ol><li>平衡生命的三脚架——自我/家庭/团体和职业</li><li>莫当漏斗人</li><li>在三个阶段减少工作：1.结婚前两年2.孩子0-3，14-18岁3.父母80岁后</li></ol><hr><p>烂？？？？尾系列，个人意见。</p></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/杂书笔记/">杂书笔记</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/杂书/">杂书</a></li></ul></div><div class="clearfix"></div></div></div></article><article id="article-acm/7-7acm整理笔记" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/07/07/acm/7-7acm整理笔记/" class="article-date"><time datetime="2017-07-07T10:40:42.000Z" itemprop="datePublished">2017-07-07</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/07/07/acm/7-7acm整理笔记/">acm7-7总结</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="7-7acm总结："><a href="#7-7acm总结：" class="headerlink" title="7-7acm总结："></a>7-7acm总结：</h1><p>7-1月一号开始我勉强开始我的补题生活。</p><h2 id="概率与期望-kuangbin"><a href="#概率与期望-kuangbin" class="headerlink" title="概率与期望(kuangbin)"></a>概率与期望(kuangbin)</h2><p>这是我之前未刷完的一个专题。</p><p>B.是一个掷骰子的题。离散型概率分布。</p></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/acm入门/">acm入门</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li></ul></div><p class="article-more-link"><a href="/2017/07/07/acm/7-7acm整理笔记/#more">阅读全文 >></a></p><div class="clearfix"></div></div></div></article><article id="article-读书笔记/拆掉思维里的墙(上)" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/06/30/读书笔记/拆掉思维里的墙(上)/" class="article-date"><time datetime="2017-06-29T18:40:42.000Z" itemprop="datePublished">2017-06-30</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/06/30/读书笔记/拆掉思维里的墙(上)/">拆掉思维里的墙(上)</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="拆掉思维里的墙-上"><a href="#拆掉思维里的墙-上" class="headerlink" title="拆掉思维里的墙(上)"></a>拆掉思维里的墙(上)</h1><blockquote><p>Intention:做一个简单的读书笔记，一来介绍这本书，二来讲述一下我的认识。虽然我现在的认知可能很浅，具有一定的时期的局限性，对于以后的对比还是很有参考价值的吧。(●’◡’●)</p></blockquote><p><img src="https://img3.doubanio.com/lpic/s28341714.jpg" alt=""></p><p><a href="https://book.douban.com/subject/6797767/" target="_blank" rel="noopener">豆瓣评分 7.9</a></p><h2 id="你是不是安全感的奴隶"><a href="#你是不是安全感的奴隶" class="headerlink" title="你是不是安全感的奴隶"></a>你是不是安全感的奴隶</h2><p>​ 开篇引用了一个小飞的例子，而后揭示其人就是股神巴菲特，确实让人眼前一亮。而后也举了马化腾、王石、丁磊等例子说明不能为买房而背弃梦想，但是说服力明显不够，逻辑也是有很大的问题的。</p><p>​ 但也揭示了成为一个房奴的后面的本质问题：安全感→恐惧。而后也从职业和爱的角度分析一个人为什么不愿放手，活在安逸的生活圈内，一旦脱离便会恐惧。后面也引用了孟子的一句话：“生于忧患，死于安乐”。也讽刺的讲述了父母唱作的意见害人的事：让一个人恐惧，提供给他一个无需努力就能获得安全感的环境，而且这种做法非常有效。</p><p>​ 我比较喜欢下面的几句话：</p><p><strong>爱着的幸福，不是索取，而是给予。</strong><br><strong>喜欢是指向行为的，而爱则是指向一个人的本身。</strong><br><strong>特蕾莎修女：上帝不是要你成功，他只是要你尝试</strong></p><p>​ 而后不仅讲述了信任潜能的好处(其实我觉得和自信是有一点相通的)，而后还给出了6照快速提升爱犬干的方法：</p><ol><li>小范围的冒一冒险</li><li>原理那些太容易获得的安全感</li><li>珍爱生命，远离恐惧。</li><li>做一个恐惧保险箱</li><li>做成功日志</li><li><p>面对恐惧，触底反弹。</p><p>其中4里面的恐惧保险箱：</p></li></ol><blockquote><ol><li>把你最恐惧的事情仔细写在一张纸上，至少要写10条，而且尽可能的详细，要到挖空心思也想不出来再多为止</li><li>找一个信任的人，或者一个安全的地方，做你的恐惧保险箱，把这张纸叠好放在这个地方，确保没有人知道</li><li>告诉自己，我担心的事情有可能发生，但是我得去做我自己的事，将恐惧暂时保存在这里，等做完事情再取回我的恐惧</li><li>感到心里舒服后，大胆的做</li><li>回到你的保险箱，看看多少发生了，多少没有发生</li></ol></blockquote><p>​ 其中5里面的成功日记(大概就是心里暗示，然后取回自信):</p><blockquote><ol><li>取一个空本子，每天至少写5个个人成果(任何小事都可以)</li><li>差点掉入陷阱中，能力多了一份自信，马上计入日记中</li><li>每天不间断的去作对你未来意义重大的事情，哪怕只有10min。</li><li>不仅记录取得的成绩，还记录其原因</li></ol></blockquote><p>​ 其中6通过<a href="https://book.douban.com/subject/4371990/" target="_blank" rel="noopener">《Feel the Fear And Do It Anyway》</a>介绍了恐惧的三个层次:</p><ol><li>恐惧事情本身</li><li>害怕失去背后的价值</li><li><p>真正的恐惧：是你觉得自己没有能力应对这个失去</p><p>格鲁夫的两个触底反弹问题：</p></li><li><p>如果我失败了，新来代替我的那个家伙会怎么办?</p></li><li><p>既然这样，为什么我们不这样去做呢?</p><p>附上奥普拉的一句话：</p></li></ol><p><strong>If you’re hurting, you need to help somebody ease their hurt .If you’re in pain, help somebody else’s pain.And when you’re in a mess, you get yourself out of the mess helping somebody out of theirs.</strong></p><hr><h2 id="让有趣的生命扑面而来"><a href="#让有趣的生命扑面而来" class="headerlink" title="让有趣的生命扑面而来"></a>让有趣的生命扑面而来</h2><p>​ 哈哈，我本人也是一个对生命感觉毫无意义的人，对什么都有一点兴趣，对什么都毫无兴趣。</p><p>​ 自我的反思是：我总是投入大量的时间，却总是不能全身心投入，我总是做好了失败的准备(逃避)，我总是在我快坚持不下去的时候，轻易换到另一个兴趣上。我很少处理完一个苦难，所以想要获得一些投入而得来的快来其实是不是很容易的。</p><p>​ 显然，我是他人眼里的无趣之人，不过，更贴近事实的是我是一个无胆之人，心理学认为，快乐来于”紧张感的释放“，而我却不敢直面这种紧张，并且总是想法设法的竟然还都成功的避免了这种紧张感的出现。。。。。</p><p>​ 书中简述了张朝阳在其未来追求中写道：”首先要把”必须做什么“和”应该做什么“的责任和义务从我的词典中删去“，我总是划分的很”清楚“,很多时候我都把一件本应该是我的必须做的事情，在处罚小的情况下让他归类到了”应该做什么“,导致后面我的怠惰直接放弃了。。。。。</p><p>​ 后面张朝阳的生命追求中也写道：”把所有的价值观都打破了，包括自我。我没有自我，我努力消除自我“。感觉很有道理，却又说不上来的感觉。</p><p>​ 最后还是附上一位哲人的小诗：</p><p><strong>Dance like nobody’s watching; love like you’ve never been hurt. Sing like nobody’s listening; live like it’s heaven on earth</strong></p><hr><h2 id="心智模式决定我们的命运"><a href="#心智模式决定我们的命运" class="headerlink" title="心智模式决定我们的命运"></a>心智模式决定我们的命运</h2><p>​ 在我初中暗恋别人的时候，确实蛮相信的星座的，,,ԾㅂԾ,,，不过后来发现我简直和每一个星座都很像，之后基本就不信这一套了。关于星座也就不详细说了。</p><p>​ 书中提到作者的一个观点：<strong>人们宁愿自我欺骗，也不愿意相信自己是被欺骗的，因为他活在自己的”思维之墙“当中</strong>。这就让我想起来我在高中和别人讲述 我们是可能会制造一些错误的记忆的 当时没有举出自己的例子，就被别人定上了傻子的标签。。。。。</p><p>​ 作者借一段打乱的英文短句(打乱的中文应该见过吧)，揭示了<strong>我们的大脑从外界接受信息，然后又抛弃他们中的大部分，只使用其中一小部分来建立一个内心世界，一次代表外部的世界。</strong></p><p>​ 后面又举了几个无聊的例子说明了仁者见仁，智者见智。后来讲了一堆对我来说没什么用的(废)话后，引入<a href="https://book.douban.com/subject/2306863/" target="_blank" rel="noopener">《金钱心理学》</a>中幸福和金钱的关系，本与金钱成正相关的幸福，突然与之没有多大的关系(“金钱的边际效应递减”)。</p><p>​ 后面都是一个很有趣的例子：科学家根据计算野山蜂的体重和两翼张开的宽度得出结论：野山蜂不能飞行。野山蜂知道一定感叹道：真TM厉害的科学家吧。</p><p>​ 而后借用<a href="https://book.douban.com/subject/1045862/" target="_blank" rel="noopener">《第五项修炼》(推荐)</a>的一句话的定义：”<strong>心智模式是深植于我们心灵之中，关于我们自己、别人、组织以及世界每个层面的形象、假设和故事。就好像一块玻璃微妙地扭曲了我们的视野一样，心智模式也决定了我们对世界的看法。</strong>“</p><p>​ 后米利用几种心智模式介绍了其局限性(但如果说这几种就是心智模式的话不免太局限了吧)。——win-win;win-lose;lose-lose;</p><p>​ 按书中怎么选取适当的”心智模式“应该就属于博弈论的范畴了吧。</p><p>​ 心智模式的有效性那边确实不错，我也希望我一个高中的同学能看到。书中举了一个我没有听说的一个例子：是关于卷入瀑布下的涡流中间，人在冰水中能生存的时间不过100s,即使用尽全身力气也未必能出去，但相对的游向中心，潜入底部再游出来生存的几率就大得多了。</p><p>​ 正如我们曾经以为的天道酬勤，其实那是一句天大的假话。想起我的高中生活，平时听课发呆，课后花大量的时间做课外题，课内的没有掌握，课外的习题也没做多少，自然就来一个比较弱的学校了。相比之下，我倒有一个平时认真对待学习，特别轻松的就考上一个比我好的大学，其实仔细想想问题还是蛮大的，按书中所说的，以我当时的心智模式，即使付出2，3倍的努力也不一定如别人的。有些时候，<strong>错误的努力比不努力还要可怕。</strong></p><p><strong>对一生进行充分规划永远都是一个好想法，但一定要记得写下来的时候要用铅笔，而且手边还要有块橡皮。——Adam Marchick</strong></p><p>​ 今天的诸葛亮需要博客，希望大家也能和我一样利用hexo这个来写一些博客，一些学习笔记。</p><hr><h2 id="成功学不能学"><a href="#成功学不能学" class="headerlink" title="成功学不能学"></a>成功学不能学</h2><p>​ 本章大多数都在举例说明，成功是小概率时间，不能模仿别人的成功。举了史泰龙，肯德基比尔盖茨一些人的例子。其实大概就是想说说你被骗了，你听到的那些所谓的传奇，都是销售大师骗骗你的，别人本来就很厉害，而且还有很厉害的人脉，你只是个垃圾，不要瞎想，洗洗睡吧。</p><p>​ 作者给了一个很好的总结：自己坚持的是结果，放弃的是方式。而且说明了成功不是完成时，而应该是进行时。</p><p>​ 除此之外，作者还给了一些名句(可能是没什么可写的了吧)：</p><ol><li>成功就是逐渐实现有价值的理想</li><li>a good life is one inspired by love and guided by knowledge</li><li>我的野心是要证明一个没有野心的人也能得到所谓的成功。不过，我必须立即承认，这只是我即兴想到的一句俏皮话，其实我连这样的野心也没有。</li><li><p>现代社会的三种毒药：消费主义，性自由和成功学。消费主义以品牌为噱头，以时尚为药效，恋物成瘾。性自由以人性为噱头，以性爱为药效，纵欲成瘾。成功学以名利为药效，误导急于走捷径成为人上人的年轻人投身其中，投机成瘾。</p><p>最后再附上《荒岛余生》中的一句话：<br><strong>I gotta keep breathing. Because tomorrow , the sun will rise.Who knows what the tide could bring?</strong></p></li></ol><hr><blockquote><p>​ 初步评价，举的例子还算是不错的，但是逻辑性上稍有欠缺，而且有几章有敷衍了事之意。不过如果这本书我早个四年看的话，应该还是能学到不少东西的把。</p></blockquote></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/杂书笔记/">杂书笔记</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/杂书/">杂书</a></li></ul></div><div class="clearfix"></div></div></div></article><article id="article-脚本/Script_ascii" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/06/28/脚本/Script_ascii/" class="article-date"><time datetime="2017-06-28T10:40:42.000Z" itemprop="datePublished">2017-06-28</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/06/28/脚本/Script_ascii/">script： translate picture into ascii.text</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="script-translate-picture-into-ascii-text"><a href="#script-translate-picture-into-ascii-text" class="headerlink" title="script: translate picture into ascii.text"></a>script: translate picture into ascii.text</h1><blockquote><p>from:</p><ul><li>《python极客编程项目》</li></ul><p>Intention:</p><ul><li>translate picture into ascii.text</li></ul><p>theory:</p><ul><li>use pillow to translate a color image to black an white image</li><li>use grey level to get the average of every rectangle in the picture</li><li>replace the value with the scale:</li><li>output the list of the image</li></ul></blockquote><p>final code：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  argparse</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"><span class="comment">#gray level</span></span><br><span class="line">gscale1 = <span class="string">"$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\|()1&#123;&#125;[]?-_+~&lt;&gt;i!lI;:,\"^`'. "</span></span><br><span class="line">gscale2 = <span class="string">"@%#*+=-:. "</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getAverageL</span><span class="params">(image)</span>:</span></span><br><span class="line">    <span class="comment">#return the average of rectangle grey value</span></span><br><span class="line">    im = np.array(image)</span><br><span class="line">    w,h = im.shape</span><br><span class="line">    <span class="keyword">return</span> np.average(im.reshape(w*h))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">covertImageToAscii</span><span class="params">(filename, cols, scale, moreLevels)</span>:</span></span><br><span class="line">    <span class="comment">#translating a color image to black and white(mode “L”),</span></span><br><span class="line">    image = Image.open(filename).convert(<span class="string">'L'</span>)</span><br><span class="line">    W, H = image.size[<span class="number">0</span>], image.size[<span class="number">1</span>]</span><br><span class="line">    print(<span class="string">"input image dims: %d x %d "</span>%(W,H))</span><br><span class="line">    w = W/cols</span><br><span class="line">    h = w/scale</span><br><span class="line">    rows = int(H/h)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"cols: %d, rows: %d"</span> % (cols, rows))</span><br><span class="line">    print(<span class="string">"tule dims: %d x %d"</span> % (w, h))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> cols &gt; W <span class="keyword">or</span> rows &gt; H:</span><br><span class="line">        print(<span class="string">"Image too small for specified cols!"</span>)</span><br><span class="line">        exit(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    aimg = []</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(rows):</span><br><span class="line">        y1 = int (j*h)</span><br><span class="line">        y2 = int ((j+<span class="number">1</span>)*h)</span><br><span class="line">        <span class="keyword">if</span> j == rows<span class="number">-1</span>:</span><br><span class="line">            y2 = H</span><br><span class="line"></span><br><span class="line">        aimg.append(<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(cols):</span><br><span class="line">            x1 = int(i*w)</span><br><span class="line">            x2 = int((i+<span class="number">1</span>)*w)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> i == cols<span class="number">-1</span>:</span><br><span class="line">                x2 = W</span><br><span class="line">            <span class="comment">#cut a rectangle</span></span><br><span class="line">            img = image.crop((x1,y1,x2,y2))</span><br><span class="line">            <span class="comment">#get the average grey levels of the rectangle</span></span><br><span class="line">            avg = int(getAverageL(img))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> moreLevels:</span><br><span class="line">                gsval = gscale1[int((avg*<span class="number">69</span>)/<span class="number">255</span>)]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                gsval = gscale2[int((avg*<span class="number">9</span>)/<span class="number">255</span>)]</span><br><span class="line"></span><br><span class="line">            aimg[j] += gsval</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> aimg</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    descStr = <span class="string">"This program starts"</span></span><br><span class="line">    parser = argparse.ArgumentParser(description=descStr)</span><br><span class="line"></span><br><span class="line">    parser.add_argument(<span class="string">'--file'</span>, dest=<span class="string">'imgFile'</span>, required=<span class="keyword">True</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--scale'</span>, dest=<span class="string">'scale'</span>, required=<span class="keyword">False</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--out'</span>, dest=<span class="string">'outFile'</span>, required=<span class="keyword">False</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--cols'</span>, dest=<span class="string">'cols'</span>, required=<span class="keyword">False</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--morelevels'</span>, dest=<span class="string">'moreLevels'</span>, action=<span class="string">'store_true'</span>)</span><br><span class="line"></span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    imgFile = args.imgFile</span><br><span class="line"></span><br><span class="line">    outFile = <span class="string">'out.txt'</span></span><br><span class="line">    <span class="keyword">if</span> args.outFile:</span><br><span class="line">        outFile = args.outFile</span><br><span class="line"></span><br><span class="line">    <span class="comment">#the height of output ascii picture is longer than width</span></span><br><span class="line">    scale = <span class="number">0.43</span></span><br><span class="line">    <span class="keyword">if</span> args.scale:</span><br><span class="line">        scale = int(args.scale)</span><br><span class="line"></span><br><span class="line">    cols = <span class="number">90</span></span><br><span class="line">    <span class="keyword">if</span> args.cols:</span><br><span class="line">        cols = int(args.cols)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">'generating ASCII art..'</span>)</span><br><span class="line"></span><br><span class="line">    aimg = covertImageToAscii(imgFile, cols, scale, args.moreLevels)</span><br><span class="line">    <span class="keyword">with</span> open(outFile, <span class="string">'w+'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> aimg:</span><br><span class="line">            f.write(row + <span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">'ASCII art written to %s'</span> % outFile)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>simple test:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python ascii.py --file 1.png --cols 82</span><br></pre></td></tr></table></figure></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/script/">script</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li></ul></div><div class="clearfix"></div></div></div></article><article id="article-读书笔记/哈佛的6堂独立思考课" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/06/27/读书笔记/哈佛的6堂独立思考课/" class="article-date"><time datetime="2017-06-27T04:40:42.000Z" itemprop="datePublished">2017-06-27</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/06/27/读书笔记/哈佛的6堂独立思考课/">哈佛的6堂独立思考课</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="哈佛的6堂独立思考课"><a href="#哈佛的6堂独立思考课" class="headerlink" title="哈佛的6堂独立思考课"></a>哈佛的6堂独立思考课</h1><h2 id="建立自我意见"><a href="#建立自我意见" class="headerlink" title="建立自我意见"></a>建立自我意见</h2><p>基本步骤：</p><ol><li>确认自己对“一件事”理解的程度</li><li>掌握自己对“一件事”不理解的是什么，通过查找数据来解决“不理解的部分”</li><li>持有自己的意见</li></ol><p>学会批判性思考，站在新的角度思考，基于事实提出问题，建议。</p><h2 id="深入理解"><a href="#深入理解" class="headerlink" title="深入理解"></a>深入理解</h2><p>基本步骤：</p><ol><li>检查自己对获得的信息是否正真的理解</li><li>切实举出不理解的部分</li><li>为消除“不理解的部分”，思考有效问题</li><li>养成实际提问的习惯</li></ol><p>检验是否理解：</p><ol><li>用对5岁小孩的方式说明信息</li><li>深入挖掘专业用语(养成认真思考词汇含义的习惯)</li><li>翻译成英文</li><li>使用“理解程度检查表”(分别列举“已理解部分”和“不理解部分”，并逐一审查“已理解部分”)</li><li>用5W1H方法反驳(回答Who,What,When,Where,Why,How,不妨再加入to Whom,How much)</li><li>用信号灯色的记号笔帮助思考(为提出问题时做准备，避免草率决定)</li><li><p>临时被人征求意见时，提出好问题。</p><p>提出好问题的12项原则：</p><blockquote><ol><li>何时、何地、谁、做了什么、怎么做</li><li>为了什么目的，为什么这么有把握</li><li>对信息提问</li><li>探究必要性</li><li>探究数据是否正确、妥当</li><li>检验模糊的用词</li><li>引用相似但不同的例子</li><li>确认事物的两面性</li><li>询问契机、起因</li><li>探究为什么是“现在”</li><li>询问长期性发展</li><li>以采访者的姿态追问背景</li></ol></blockquote></li></ol><p><strong>尖锐的问题才是接近事物的本质的快捷方式</strong></p><p>注意区分事实与意见</p><h2 id="从多种角度看待问题，深入思考"><a href="#从多种角度看待问题，深入思考" class="headerlink" title="从多种角度看待问题，深入思考"></a>从多种角度看待问题，深入思考</h2><p>基本技巧：</p><ol><li><p>站在“不可忽视者”的角度思考</p></li><li><p>用崭新的观点，获得不同角度的看法：</p><blockquote><p>如讽刺漫画家的刁钻的角度</p><p>人类学者的角度</p></blockquote></li><li><p>一人辩证法(刻意否定自己的想法，提出反对的根据)</p></li><li><p>通过“反驳清单”重新审视意见</p></li></ol><p>面对意外，突发事件时，可以采用单人头脑风暴，用自己以外的观点思考。</p><p>创意的方法：检讨平时认为“不可能”就丢开的创意</p><h2 id="预测未来"><a href="#预测未来" class="headerlink" title="预测未来"></a>预测未来</h2><p>基本步骤：</p><ol><li>该“方案”如果称为显示，会发生什么事(顺利/不顺利)</li><li>面对成功/失败情节应该采取的措施</li><li>该行动有没有实现的可能</li><li>该行动有没有现在执行的必要</li></ol><p><strong>欲望太多的企划不会成功</strong></p><p>重新审视所谓的根据</p><p>寻找隐藏的前提</p><p>做出决定的思考过程：</p><ol><li>以肯定句写下难以断绝的“行动”</li><li>明确自己的目的，想想为什么要采取那个行动</li><li>写出有哪些方法可达成目的</li><li>预测可能获得的结果(顺利/不顺利)</li><li>删去“不合乎逻辑”或“不具现实性”的项目</li></ol><h2 id="交换意见的规则"><a href="#交换意见的规则" class="headerlink" title="交换意见的规则"></a>交换意见的规则</h2><p>基本规则：</p><ol><li>这个世界上没有绝对正确的意见(对手的意见是自我意见的肥料)</li><li>用对方听得懂的语言和文脉(运用简单的词汇和表达方式：结论-根据-提议)</li><li>揭示接下来说话内容的“地图”</li><li>重要的地方用不同表达方式再三重复</li><li>避免武断的语气</li><li>反对≠否定人格(将意见与发言者分离)</li><li>把否定当成对方的提问</li><li>不打断对方的说话</li><li>不懂装懂不可取</li><li>全盘接受对方意见不是尊重</li><li>不要跟随对方脚步(不可没有根据就说结论，跟着对方的语气反击，自乱阵脚)</li><li>问根据，说出来(问根据可以选择站在对方立场后委婉提问)</li><li>不要假装自己什么都懂</li><li>要反对，就要提出替代方案(对意见负起责任)</li></ol><p>练习冷静：这个人真TM有趣 而不是 这个人真可怜</p><h2 id="发现问题是思考的开始"><a href="#发现问题是思考的开始" class="headerlink" title="发现问题是思考的开始"></a>发现问题是思考的开始</h2><p>在模糊不清的情绪中寻找真正的想法。</p><p>基本顺序：</p><ol><li>发觉有些在意的东西</li><li>承认它的存在</li><li>思考它的起源，寻求他的本质</li><li>为什么有那种感情，寻求他的根据</li><li>承认**他的重要性。</li></ol><hr><p>简要感想：</p><blockquote><p>全文脉络清晰，层次明确。如果再早个几年看的话可能会有一些影响。</p><p>全文基于根据，以事实讲道理，思考，蛮好的。</p></blockquote></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/杂书笔记/">杂书笔记</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/杂书/">杂书</a></li></ul></div><div class="clearfix"></div></div></div></article><article id="article-网页学习/djangoStart01" class="article article-type-article" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/06/24/网页学习/djangoStart01/" class="article-date"><time datetime="2017-06-24T10:40:42.000Z" itemprop="datePublished">2017-06-24</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2017/06/24/网页学习/djangoStart01/">Django_GO01</a></h1></header><div class="article-entry" itemprop="articleBody"><h1 id="Django-起航"><a href="#Django-起航" class="headerlink" title="Django 起航"></a>Django 起航</h1><blockquote><p>环境配置：ubuntu</p><p>apt install :python, python-pip, openssh-server, vsftpd, git, tree</p><p>pip install: virtualenv, pytz</p><p>学习书籍:Django架站的１６堂课</p></blockquote><h2 id="First-Go"><a href="#First-Go" class="headerlink" title="First Go"></a>First Go</h2><p>使用virtualenv创建虚拟环境</p><p>terminal:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">virtualenv Venv</span><br><span class="line">source Venv/bin/activate</span><br><span class="line">pip install django</span><br><span class="line">django-admin startproject myweb</span><br><span class="line">cd myweb</span><br><span class="line">git remote add origin https://github.com/Hu-chi/myweb</span><br><span class="line">git pull origin master</span><br><span class="line">git add .</span><br><span class="line">git commit -m 'first remote'</span><br><span class="line">git push origin master</span><br><span class="line">git freeze &gt; requirements.txt #把使用的套件更新一份记录在requirements.txt文本文件中</span><br><span class="line">git add .</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><p>换一台机子的话：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Hu-chi/myweb</span><br><span class="line">cd myweb</span><br><span class="line">pip install -r 'requirements.txt'</span><br></pre></td></tr></table></figure><p>创建框架(virtualenv下)：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp mainsite</span><br><span class="line">tree</span><br></pre></td></tr></table></figure><p>初次运行：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure><h2 id="File-parse"><a href="#File-parse" class="headerlink" title="File parse"></a>File parse</h2><ul><li><p>manage.py :是管理网站配置的文件，一般不会修改，只负责执行指令</p><p>myweb中的一些重要配置文件:</p><ul><li>wsgi.py :是和虚拟主机中网页服务器(如Apache)沟通的接口</li><li>urls.py:设置每一个URL的网址对应的函数以及对应的方式，创建新页面时编辑的文件</li><li>settings.py:系统设计的位置，进行新建网站所要设置的操作</li></ul></li></ul><p>真正网站所要运行的所有逻辑都是在使用startapp mainsite创建出来的APP文件中。可以让网站的每一个主要功能成为单独的一个模块。符合reuse的概念。</p><p>编辑settings.py，增加mainsite模块:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'mainsite'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>修改时区：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LANGUAGE_CODE = <span class="string">'zh-Hans'</span></span><br><span class="line">TIME_ZONE = <span class="string">'Asia/Beijing'</span></span><br></pre></td></tr></table></figure><p>回去配置SQLite存储数据库。</p><p>terminal:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><p>会产生一个db.sqlite3文件。</p><h2 id="数据表"><a href="#数据表" class="headerlink" title="数据表"></a>数据表</h2><p>数据库是以MODEL方式来操作的。以定义一个数据类来作为一个数据表。省去了人在不同数据库操作细节上的精力和时间。</p><p>修改mainsite/models.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    title = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    slug = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    body = models.TextField()</span><br><span class="line">    pub_date = models.DateTimeField(default=timezone.now)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        ordering = (<span class="string">'-pub_date'</span>,)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.title</span><br></pre></td></tr></table></figure><p>执行terminal:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations mainsite</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><p>使用<code>python manage.py createsuperuser</code>创建一个管理员账号。</p><p>修改mainsite/admin.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Post</span><br><span class="line"><span class="comment"># Register your models here.</span></span><br><span class="line"></span><br><span class="line">admin.site.register(Post)</span><br></pre></td></tr></table></figure><p>runserver一下可以看见有数据库管理页面，登录。</p><p>post中自行添加并保存。增加了6个。。。</p><p>admin.py增加代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Register your models here.</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    list_display = (<span class="string">'title'</span>, <span class="string">'slug'</span>, <span class="string">'pub_date'</span>)</span><br><span class="line"></span><br><span class="line">admin.site.register(Post, PostAdmin)</span><br></pre></td></tr></table></figure><h2 id="读取数据库中的内容"><a href="#读取数据库中的内容" class="headerlink" title="读取数据库中的内容"></a>读取数据库中的内容</h2><p>根据Django中MTV架构。为了把数据抽象化，把数据的存取显示分为Model, Template, View。分别对应models.py, template文件, views.py等文件。</p><p>models.py用类class来定义了要存取的数据模型。存取数据则是在View，在views.py中处理。显示输出则交给Template处理。</p><p>修改mainsite/view.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Post</span><br><span class="line"><span class="comment"># Create your views here</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homepage</span><span class="params">(request)</span>:</span></span><br><span class="line">    posts = Post.objects.all()</span><br><span class="line">    post_lists = list()</span><br><span class="line">    <span class="keyword">for</span> count, post <span class="keyword">in</span> enumerate(posts):</span><br><span class="line">        post_lists.append(<span class="string">"No.&#123;&#125;"</span>.format(str(count)) + str(post) + <span class="string">"&lt;br&gt;"</span>)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(post_lists)</span><br></pre></td></tr></table></figure><p>创建homepage()获取所有数据，添加到post_lists再返回输出到用户端浏览器页面。</p><p>修改urls.py 网址与程序间的对应工作。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> mainsite.views <span class="keyword">import</span> homepage</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^admin/'</span>, admin.site.urls),</span><br><span class="line">    url(<span class="string">r'^$'</span>, homepage),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>我出现了编码错误,去错误的文件里面增加这个就可以了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&quot;utf-8&quot;)</span><br></pre></td></tr></table></figure><p><code>url(r&#39;^$&#39;, homepage),</code>这句话表示当用户浏览网址没有加任何字符串(根网址)的话,调用homepage().</p><ul><li>简单美化</li></ul><p>修改views.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> count, post <span class="keyword">in</span> enumerate(posts):</span><br><span class="line">    post_lists.append(<span class="string">"No.&#123;&#125;"</span>.format(str(count)) + str(post) + <span class="string">"&lt;br&gt;"</span>)</span><br><span class="line">    post_lists.append(<span class="string">"&lt;small&gt;"</span> + str(post.body.encode(<span class="string">'utf-8'</span>)) + <span class="string">"&lt;/small&gt;&lt;br&gt;&lt;br&gt;"</span>)</span><br></pre></td></tr></table></figure><p>这样做是不明智的，因为是MTV架构，应该放在template中,让template中的.html来负责正真的显示工作。</p><h2 id="输出模板"><a href="#输出模板" class="headerlink" title="输出模板"></a>输出模板</h2><p>通过template模板，当网站有数据输出时，通过渲染函数(render, 网页显示)把数据放在模板制定的位置。得到结果后交给HttpResponse()输出.</p><p>先mkdir 一个 templates</p><p>修改settings.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</span><br><span class="line">        <span class="string">'DIRS'</span>: [os.path.join(BASE_DIR, <span class="string">'templates'</span>)],</span><br><span class="line">        <span class="string">'APP_DIRS'</span>: <span class="keyword">True</span>,</span><br><span class="line">        <span class="string">'OPTIONS'</span>: &#123;</span><br><span class="line">            <span class="string">'context_processors'</span>: [</span><br><span class="line">                <span class="string">'django.template.context_processors.debug'</span>,</span><br><span class="line">                <span class="string">'django.template.context_processors.request'</span>,</span><br><span class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</span><br><span class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>修改views.py<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">"utf-8"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> django.template.loader <span class="keyword">import</span> get_template</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Post</span><br><span class="line"><span class="comment"># Create your views here</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homepage</span><span class="params">(request)</span>:</span></span><br><span class="line">    template = get_template(<span class="string">'index.html'</span>)</span><br><span class="line">    posts = Post.objects.all()</span><br><span class="line">    now = datetime.now()</span><br><span class="line">    html = template.render(locals())</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(html)</span><br></pre></td></tr></table></figure><p></p><p>这里使用locals()，把当前内存中的所有局部变量使用字典类型打包。</p><p>templates目录下，创建一个index.html模板文件。：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">       huchi's Django</span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>huchi's Django<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    &#123;&#123;posts&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>time:&#123;&#123;now&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可以测试一下。</p><p>再稍微改一下index.html：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">       huchi's Django</span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>huchi's Django<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    &#123;% for post in posts %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">'font-family:微软雅黑; font-size:16pt; font-weight:bold;'</span>&gt;</span></span><br><span class="line">        &#123;&#123;post.title&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">'font-family:微软雅黑; font-size:10pt; letter-spacing:1pt;'</span>&gt;</span></span><br><span class="line">        &#123;&#123;post.body&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>time:&#123;&#123;now&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者把中间一段改成带有链接的：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for post in posts %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">'font-family:微软雅黑; font-size:16pt; font-weight:bold;'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'/post/&#123;&#123;post.slug&#125;&#125;'</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure><p>接下来就要显示单张网页了。</p><p>修改urls.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^admin/'</span>, admin.site.urls),</span><br><span class="line">    url(<span class="string">r'^$'</span>, homepage),</span><br><span class="line">    url(<span class="string">r'^post/(\w+)$'</span>, showpost),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>然后滚到views.py写showpost(),顺便设置了一个重定向……</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> redirect</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showpost</span><span class="params">(request, slug)</span>:</span></span><br><span class="line">    template = get_template(<span class="string">'post.html'</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        post = Post.objects.get(slug=slug)</span><br><span class="line">        <span class="keyword">if</span> post != <span class="keyword">None</span>:</span><br><span class="line">            html = template.render(locals())</span><br><span class="line">            <span class="keyword">return</span> HttpResponse(html)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">'/'</span>)</span><br></pre></td></tr></table></figure><p>在滚去写post.html…..:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">       huchi's Django</span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">'font-family:微软雅黑; font-size:10pt; letter-spacing:1pt;'</span>&gt;</span></span><br><span class="line">        &#123;&#123; post.body &#125;&#125;</span><br><span class="line">     <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'/'</span>&gt;</span>回首页<span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>不过发现其实和index.html重复的地方很多。</p><ul><li>共享模板</li></ul><table><thead><tr><th>文件名</th><th>Function</th></tr></thead><tbody><tr><td>base.html</td><td>基础模板</td></tr><tr><td>header.html</td><td>放置共享的标题元素，比如网站Logo</td></tr><tr><td>footer.html</td><td>共享网页，放置版权声明或其他声明</td></tr><tr><td>index.html</td><td>首页</td></tr><tr><td>post.html</td><td>单篇内容</td></tr></tbody></table><p>开始搬砖。。。。。</p><p>base.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--base.html--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">        &#123;% block title %&#125; &#123;% endblock %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    &#123;% include 'header.html' %&#125;</span><br><span class="line">    &#123;% block headmessage %&#125; &#123;% endblock %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    &#123;% block content %&#125; &#123;% endblock %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    &#123;% include 'footer.html' %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>include .html</code>可以导入制定的文件。block 指令划分区块。</p><p>修改index.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html--&gt;</span></span><br><span class="line">&#123;% extends 'base.html' %&#125;</span><br><span class="line">&#123;% block title %&#125;huchi's web&#123;% endblock %&#125;</span><br><span class="line">&#123;% block headmessage %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">style</span>=<span class="string">'font-family:楷体;'</span>&gt;</span>本站列表<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &#123;% for post in posts %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">'font-family:微软雅黑;font-size:14pt;font-weight:blod;'</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'/post/&#123;&#123; post.slug &#125;&#125;'</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>修改post.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--post.html--&gt;</span></span><br><span class="line">&#123;% extends 'base.html' %&#125;</span><br><span class="line">&#123;% block title %&#125; &#123;&#123; post.title &#125;&#125; &#123;% endblock %&#125;</span><br><span class="line">&#123;% block headmessage %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span> <span class="attr">href</span>=<span class="string">'/'</span>&gt;</span>回首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑; font-size:12pt; letter-spacing:1pt;"</span>&gt;</span></span><br><span class="line">     &#123;&#123; post.body &#125;&#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>修改header.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--header.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span>&gt;</span>welcome to huchi's web<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p>footer.html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--footer.html--&gt;</span></span><br><span class="line">&#123;% block footer %&#125;</span><br><span class="line">    &#123;% if now %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span>&gt;</span>时间: &#123;&#123; now &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span>&gt;</span>?唧唧唧?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h2 id="js-css的运用"><a href="#js-css的运用" class="headerlink" title="js/css的运用"></a>js/css的运用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Latest compiled and minified CSS --&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Optional theme --&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot; integrity=&quot;sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp&quot; crossorigin=&quot;anonymous&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Latest compiled and minified JavaScript --&gt;</span><br><span class="line">&lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity=&quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>将这段bootstrap的代码加入到base.html里面。</p><p>可以稍微改一下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'container-fluid'</span>&gt;</span></span><br><span class="line">        &#123;% include 'header.html' %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'panel panel-default'</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'panel-heading'</span>&gt;</span></span><br><span class="line">                &#123;% block headmessage %&#125; &#123;% endblock %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'panel-body'</span>&gt;</span></span><br><span class="line">                &#123;% block content %&#125; &#123;% endblock %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'panel-footer'</span>&gt;</span></span><br><span class="line">                &#123;% include 'footer.html' %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>图片</li></ul><p>像图片这些不需要处理的文件一般放置在statci file文件中(static files)。需要在settings.py先配置一下。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = <span class="string">'/static/'</span></span><br><span class="line">STATICFILES_DIRS = [</span><br><span class="line">   os.path.join(BASE_DIR, <span class="string">'static'</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>大概是这样的：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(Venv) huchi@huchi-Lenovo-ideapad-510S-14ISK:~/myweb/static$ tree</span><br><span class="line">.</span><br><span class="line">├── css</span><br><span class="line">├── images</span><br><span class="line">│   ├── backgroud_aLi.jpg</span><br><span class="line">│   ├── backgroud_angelBeats.jpg</span><br><span class="line">│   └── logo.png</span><br><span class="line">└── js</span><br><span class="line"></span><br><span class="line">3 directories, 3 files</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--header.html--&gt;</span></span><br><span class="line">&#123;% load staticfiles %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'well'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"font-family:微软雅黑;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&#123;% static 'images/logo.png' %&#125;"</span>/&gt;</span></span><br><span class="line">     welcome to huchi's web</span><br><span class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js,css静态文件的导入也是如此。</p><p>template的数据是可以用filter过滤器以此来实现文章概要，HTML解析，Markdown解析。</p><hr></div><div class="article-info article-info-index"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/django/">django</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/">django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul></div><div class="clearfix"></div></div></div></article><nav id="page-nav"><a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a></nav></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left"><i class="fa fa-copyright"></i> 2018 呼哧</div><div class="footer-right"><a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a> Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i></div></div><div class="visit"><span id="busuanzi_container_site_pv" style="display:none"><span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span> </span></span><span>| </span><span id="busuanzi_container_page_pv" style="display:none"><span id="page-visit" title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span></span></span></div></div></footer></div><script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script><script>$(document).ready(function(){if(-1<window.navigator.userAgent.indexOf("iPad")||"none"===$(".left-col").css("display")){var a=["#9db3f4","#414141","#e5a859","#f5dfc6","#c084a0","#847e72","#cd8390","#996731"],c=Math.ceil(Math.random()*(a.length-1));$("body").css({"background-color":a[c],"background-size":"cover"})}else{var e="url(/background/bg-x.jpg)".replace(/x/gi,Math.ceil(5*Math.random()));$("body").css({background:e,"background-attachment":"fixed","background-size":"cover"})}})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});</script><script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><div class="scroll" id="scroll"><a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a> <a href="#comments" onclick="load$hide()" title="查看评论"><i class="fa fa-comments-o"></i></a> <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a></div><script>var oOpenInNew={archives:".archive-article-title",miniArchives:"a.post-list-link",friends:"#js-friends a",socail:".social a"};for(var x in oOpenInNew)$(oOpenInNew[x]).attr("target","_blank")</script><script>var titleTime,originTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="(つェ⊂) 我藏好了哦~ "+originTitle,clearTimeout(titleTime)):(document.title="(*´∇｀*) 被你发现啦~ "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body>